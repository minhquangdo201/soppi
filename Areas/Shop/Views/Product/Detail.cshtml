@model soppi.Models.ViewModel.ProductViewModel;
@{
    var p = ViewBag.Product;

}
<div class="row justify-content-center">
    <div class="col-xl-7 col-8 bg-white shadow p-lg-4 my-lg-5 mt-5 p-md-4" style="border-radius: 8px">
        <form method="post">
            <h2 class="text-center fw-bold">Chỉnh sửa sản phẩm</h2>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Tên sản phẩm</label>
                <input type="text" class="form-control" asp-for="ProductName" value="@p.ProductName">
            </div>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Mô tả</label>
                <input type="text" class="form-control" asp-for="Description" value="@p.Description">
            </div>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Hình ảnh</label>
                <input type="text" class="form-control" asp-for="Image" value="@p.Image">
            </div>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Giá sản phẩm</label>
                <input type="number" class="form-control" asp-for="Price" value="@p.Price">
            </div>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Số lượng</label>
                <input type="number" class="form-control" asp-for="StockQuantity" value="@p.StockQuantity">
            </div>
            <div class="mb-3 fw-bold">
                <label for="" class="form-label">Loại sản phẩm</label>
                <select class="form-select" aria-label="Default select example" asp-for="CategoryName">
                    <option selected value="@p.CategoryName">@p.CategoryName</option>
                    @foreach (Category c in ViewBag.Categories)
                    {
                        <option value="@c.CategoryName">@c.CategoryName</option>
                    }
                </select>
            </div>
            <button type="submit" class="btn btn-primary" asp-controller="Product" asp-action="Update"
                asp-route-id="@p.Id">Sửa</button>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Xóa
            </button>

            <!-- Modal -->
        </form>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Xác nhận xóa sản phẩm</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Bạn chắc chắn muốn xóa sản phẩm này?
            </div>
            <div class="modal-footer">
                <form asp-action="Delete" asp-controller="Product" method="post">
                    <input class="d-none" type="text" asp-for="Id" value="@p.Id">
                    <button type="submit" class="btn btn-primary">Xác nhận</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                </form>
            </div>
        </div>
    </div>
</div>